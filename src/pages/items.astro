---
import Layout from "../layouts/Layout.astro";
import ItemComponent from "../components/ui/item/ItemComponent";
import items from "../data/items.json";
import type { ItemData } from "../models/types/item.data";
const itemsData = items as ItemData[];
---

<Layout title="Items">
  <ul id="item-list" class="list-base">
    {itemsData.map((item) => <ItemComponent item={item} />)}
  </ul>
</Layout>

<script>
  import { updateList } from "../utils/search.utils";
  const itemList = document.getElementById("item-list") as HTMLUListElement;
  const itemArr = Array.from(itemList.children) as HTMLLIElement[];
  document.addEventListener("search", (ev) =>
    updateList(ev, itemArr, "data-item-name"),
  );
</script>
