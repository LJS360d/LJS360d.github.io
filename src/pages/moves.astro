---
import MoveComponent from "../components/ui/move/MoveComponent";
import moves from "../data/moves.json";
import Layout from "../layouts/Layout.astro";
import type { MoveInfo } from "../models/types/move.info";
const movesData = moves as MoveInfo[];
---

<Layout title="Moves">
  <ul id="move-list" class="list-base">
    {movesData.map((move) => <MoveComponent move={move} />)}
  </ul>
</Layout>

<script>
  import { updateList } from "../utils/search.utils";
  const moveList = document.getElementById("move-list") as HTMLUListElement;
  const moveArr = Array.from(moveList.children) as HTMLLIElement[];
  document.addEventListener("search", (ev) =>
    updateList(ev, moveArr, "data-move-name"),
  );
</script>
